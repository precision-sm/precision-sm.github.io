var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,h,k){g!=Array.prototype&&g!=Object.prototype&&(g[h]=k.value)};$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(g,h,k,m){if(h){k=$jscomp.global;g=g.split(".");for(m=0;m<g.length-1;m++){var f=g[m];f in k||(k[f]={});k=k[f]}g=g[g.length-1];m=k[g];h=h(m);h!=m&&null!=h&&$jscomp.defineProperty(k,g,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Number.isFinite",function(g){return g?g:function(h){return"number"!==typeof h?!1:!isNaN(h)&&Infinity!==h&&-Infinity!==h}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(g){return g?g:function(h){return Number.isFinite(h)?h===Math.floor(h):!1}},"es6","es3");$jscomp.arrayIteratorImpl=function(g){var h=0;return function(){return h<g.length?{done:!1,value:g[h++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.makeIterator=function(g){var h="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return h?h.call(g):$jscomp.arrayIterator(g)};
$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(g){function h(){this.batch_=null}function k(a){return a instanceof f?a:new f(function(b,e){b(a)})}if(g&&!$jscomp.FORCE_POLYFILL_PROMISE)return g;h.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var m=$jscomp.global.setTimeout;h.prototype.asyncExecuteFunction=function(a){m(a,0)};h.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var d=0;d<a.length;++d){var e=a[d];a[d]=null;try{e()}catch(c){this.asyncThrow_(c)}}}this.batch_=null};h.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(e){b.reject(e)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(b){e||(e=!0,a.call(d,b))}}var d=this,e=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(e){this.reject_(e);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,d){if(0!=this.state_)throw Error("Cannot settle("+a+", "+d+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=d;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=0;b<this.onSettledCallbacks_.length;++b)a.asyncExecute(this.onSettledCallbacks_[b]);
this.onSettledCallbacks_=null}};var a=new h;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,d){var b=this.createResolveAndReject_();try{a.call(d,b.resolve,b.reject)}catch(c){b.reject(c)}};f.prototype.then=function(a,d){function b(a,b){return"function"==typeof a?function(b){try{c(a(b))}catch(p){n(p)}}:b}var c,n,l=new f(function(a,b){c=a;n=b});this.callWhenSettled_(b(a,c),b(d,n));return l};
f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(b,d){function e(){switch(c.state_){case 1:b(c.result_);break;case 2:d(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?a.asyncExecute(e):this.onSettledCallbacks_.push(e)};f.resolve=k;f.reject=function(a){return new f(function(b,e){e(a)})};f.race=function(a){return new f(function(b,e){for(var c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next())k(d.value).callWhenSettled_(b,
e)})};f.all=function(a){var b=$jscomp.makeIterator(a),e=b.next();return e.done?k([]):new f(function(a,d){function c(b){return function(c){f[b]=c;h--;0==h&&a(f)}}var f=[],h=0;do f.push(void 0),h++,k(e.value).callWhenSettled_(c(f.length-1),d),e=b.next();while(!e.done)})};return f},"es6","es3");$jscomp.findInternal=function(g,h,k){g instanceof String&&(g=String(g));for(var m=g.length,f=0;f<m;f++){var a=g[f];if(h.call(k,a,f,g))return{i:f,v:a}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(h,g){return $jscomp.findInternal(this,h,g).v}},"es6","es3");
JSROOT.define(["d3","jquery","painter","jquery-ui"],function(g,h,k){function m(a,b){var d=-1,e=k.root_colors;if("string"==typeof a){if(a&&"none"!=a)for(var c=1;c<e.length;++c){if(e[c]==a){d=c;break}}else d=0;0>d&&0==a.indexOf("rgb")&&(d=9999)}else Number.isInteger(a)&&e[a]&&(d=a,a=e[d]);if(0>d)return"";50<=d&&(a=g.color(a),d="TColor::GetColor("+a.r+","+a.g+","+a.b+")");return"exec:"+b+"("+d+")"}JSROOT.loadScript("$$$style/jquery-ui");"undefined"===typeof jQuery&&(globalThis.jQuery=h);var f=function(a,
b,d){this.painter=a;this.menuname=b;this.element=null;this.code="";this.cnt=1;this.funcs={};this.separ=!1;d&&"object"==typeof d&&void 0!==d.clientX&&void 0!==d.clientY&&(this.show_evnt={clientX:d.clientX,clientY:d.clientY});this.remove_bind=this.remove.bind(this)};f.prototype.add=function(a,b,d,e){if("separator"==a)this.code+="<li>-</li>",this.separ=!0;else if(0==a.indexOf("header:"))this.code+="<li class='ui-widget-header' style='padding:3px; padding-left:5px;'>"+a.substr(7)+"</li>";else if("endsub:"==
a)this.code+="</ul></li>";else{var c="",f="</li>";e=e?" title='"+e+"'":"";0==a.indexOf("sub:")&&(a=a.substr(4),f="<ul>");"function"==typeof b&&(d=b,b=a);0==a.indexOf("chk:")?(c="<span class='ui-icon ui-icon-check' style='margin:1px'></span>",a=a.substr(4)):0==a.indexOf("unk:")&&(c="<span class='ui-icon ui-icon-blank' style='margin:1px'></span>",a=a.substr(4));c=0==h.ui.version.indexOf("1.10")||0==h.ui.version.indexOf("1.9")?'<a href="#">'+c+a+"</a>":0==h.ui.version.indexOf("1.11")?c+a:"<div"+e+">"+
c+a+"</div>";this.code+="<li cnt='"+this.cnt+(void 0!==b?"' arg='"+b:"")+"'>"+c+f;"function"==typeof d&&(this.funcs[this.cnt]=d);this.cnt++}};f.prototype.addchk=function(a,b,d,e){var c=e;"function"==typeof d&&(e=d,c=function(a){return e("1"==a)},d=a?"0":"1");this.add((a?"chk:":"unk:")+b,d,c)};f.prototype.size=function(){return this.cnt-1};f.prototype.addDrawMenu=function(a,b,d){b||(b=[]);0==b.length&&b.push("");var e=!1;0==a.indexOf("nosub:")&&(e=!0,a=a.substr(6));if(1===b.length)"inspect"===b[0]&&
(a=a.replace("Draw","Inspect")),this.add(a,b[0],d);else{e||this.add("sub:"+a,b[0],d);for(var c=0;c<b.length;++c){var f=b[c];""==f&&(f="&lt;dflt&gt;");var l=c+1;if(5<b.length&&0<f.length)for(;l<b.length&&0==b[l].indexOf(f);)l++;e&&(f=a+" "+f);if(l<c+2)this.add(f,b[c],d);else{this.add("sub:"+f,b[c],d);for(c+=1;c<l;++c)this.add(b[c],b[c],d);this.add("endsub:");c=l-1}}e||this.add("endsub:")}};f.prototype.info=function(a,b){var d=this.menuname+"_dialog",e=document.getElementById(d);e&&e.parentNode.removeChild(e);
h(document.body).append('<div id="'+d+'">\n            <p tabindex="0">'+b+"</p>\n            </div>");var c=h("#"+d).dialog({height:120,width:400,modal:!0,resizable:!0,title:a,close:function(){return c.remove()}})};f.prototype.input=function(a,b,d){var e=this.menuname+"_dialog",c=document.getElementById(e);c&&c.parentNode.removeChild(c);d||(d="text");c="int"==d?"number":"text";h(document.body).append('<div id="'+e+'">\n              <form>\n                <fieldset style="padding:0; border:0">\n                   <input type="'+
c+'" tabindex="0" name="'+e+'_inp" id="'+e+'_inp" value="'+b+'" style="width:100%;display:block" class="text ui-widget-content ui-corner-all"/>\n                   <input type="submit" tabindex="-1" style="position:absolute; top:-1000px; display:block"/>\n               </fieldset>\n              </form>\n            </div>');return new Promise(function(b){var c=function(){var a=h("#"+e+"_inp").val();f.dialog("close");"float"==d?(a=parseFloat(a),Number.isFinite(a)&&b(a)):"int"==d?(a=parseInt(a),Number.isInteger(a)&&
b(a)):b(a)};var f=h("#"+e).dialog({height:150,width:400,modal:!0,resizable:!1,title:a,buttons:{Ok:c,Cancel:function(){return f.dialog("close")}},close:function(){return f.remove()}});f.find("form").on("submit",function(a){a.preventDefault();c()})})};f.prototype.showMethodArgsDialog=function(a){var b=this.menuname+"_dialog",d=document.getElementById(b);d&&d.parentNode.removeChild(d);d="";for(var e=0;e<a.fArgs.length;++e){var c=a.fArgs[e];c.fValue=c.fDefault;'""'==c.fValue&&(c.fValue="");d+='<label for="'+
b+"_inp"+e+'">'+c.fName+'</label>\n                       <input type="text" tabindex="0" name="'+b+"_inp"+e+'" id="'+b+"_inp"+e+'" value="'+c.fValue+'" style="width:100%;display:block" class="text ui-widget-content ui-corner-all"/>'}h(document.body).append('<div id="'+b+'">\n              <form>\n                <fieldset style="padding:0; border:0">\n                   '+d+'\n                   <input type="submit" tabindex="-1" style="position:absolute; top:-1000px; display:block"/>\n               </fieldset>\n              </form>\n            </div>');
return new Promise(function(c){var e=function(){for(var e="",f=0;f<a.fArgs.length;++f){var l=a.fArgs[f],g=h("#"+b+"_inp"+f).val();""===g&&(g=l.fDefault);if("Option_t*"==l.fTitle||"const char*"==l.fTitle)g||(g='""'),'"'!=g[0]&&(g='"'+g),'"'!=g[g.length-1]&&(g+='"');e+=(0<f?",":"")+g}d.dialog("close");c(e)};var d=h("#"+b).dialog({height:100+60*a.fArgs.length,width:400,modal:!0,resizable:!0,title:a.fClassName+"::"+a.fName,buttons:{Ok:e,Cancel:function(){return d.dialog("close")}},close:function(){return d.remove()}});
d.find("form").on("submit",function(a){a.preventDefault();e()})})};f.prototype.addColorMenu=function(a,b,d,e){var c=this;if(void 0!==b){var f="string"!==typeof b;this.add("sub:"+a,function(){c.input("Enter color "+(f?"(only id number)":"(name or id)"),b,f?"int":"text").then(function(a){var b=parseInt(a);if(Number.isInteger(b)&&k.getColor(b))a=k.getColor(b);else if(f)return;d(f?b:a)})});for(a=-1;11>a;++a)if(!(0>a&&f||10==a&&1!==e)){var l=0>a?"none":k.getColor(a);0==a&&1==e&&(l="none");this.addchk(b==
(f?a:l),"<svg width='100' height='18' style='margin:0px;background-color:"+l+"'><text x='4' y='12' style='font-size:12px' fill='"+(1==a?"white":"black")+"'>"+l+"</text></svg>",f?a:l,function(a){return d(f?parseInt(a):a)})}this.add("endsub:")}};f.prototype.addSizeMenu=function(a,b,d,e,c,f){var l=this;if(void 0!==c){for(this.add("sub:"+a,function(){var b=c.toFixed(4);.1<=e&&(b=c.toFixed(2));1<=e&&(b=c.toFixed(0));l.input("Enter value of "+a,b,1<=e?"int":"float").then(f)});b<=d;b+=e){var g=b.toFixed(2);
.1<=e&&(g=b.toFixed(1));1<=e&&(g=b.toFixed(0));this.addchk(Math.abs(c-b)<e/2,g,b,function(a){return f(1<=e?parseInt(a):parseFloat(a))})}this.add("endsub:")}};f.prototype.addRebinMenu=function(a){var b=this;this.add("sub:Rebin",function(){b.input("Enter rebin value",2,"int").then(a)});for(var d=2;7>=d;d++)this.add(d.toString(),d,function(b){return a(parseInt(b))});this.add("endsub:")};f.prototype.addSelectMenu=function(a,b,d,e){this.add("sub:"+a);for(a=0;a<b.length;++a)this.addchk(b[a]==d,b[a],b[a],
function(a){return e(a)});this.add("endsub:")};f.prototype.addRColorMenu=function(a,b,d){var e=this,c="black white red green blue yellow magenta cyan".split(" ");this.add("sub:"+a,function(){e.input("Enter color name - empty string will reset color",b).then(d)});a=null;for(var f="black",l="default",g="",h=-1;h<c.length;++h)0<=h&&(l=a=c[h],g="background-color:"+a,f="white"==a?"black":"white"),this.addchk(b==a,"<svg width='100' height='18' style='margin:0px;"+g+"'><text x='4' y='12' style='font-size:12px' fill='"+
f+"'>"+l+"</text></svg>",l,function(a){return d("default"==a?null:a)});this.add("endsub:")};f.prototype.addRAttrTextItems=function(a,b,d){b||(b={});this.addRColorMenu("color",a.color,function(a){return d({name:"color_name",value:a})});a.scaled?this.addSizeMenu("size",.01,.1,.01,a.size/a.scale,function(a){return d({name:"size",value:a})}):this.addSizeMenu("size",6,20,2,a.size,function(a){return d({name:"size",value:a})});this.addSelectMenu("family",["Arial","Times New Roman","Courier New","Symbol"],
a.name,function(a){return d({name:"font_family",value:a})});this.addSelectMenu("style",["normal","italic","oblique"],a.style||"normal",function(a){return d({name:"font_style",value:"normal"==a?null:a})});this.addSelectMenu("weight",["normal","lighter","bold","bolder"],a.weight||"normal",function(a){return d({name:"font_weight",value:"normal"==a?null:a})});b.noalign||this.add("align");b.noangle||this.add("angle")};f.prototype.addTextAttributesMenu=function(a,b){var d=a.getObject();if(d&&"fTextColor"in
d){this.add("sub:"+(b?b:"Text"));this.addColorMenu("color",d.fTextColor,function(b){d.fTextColor=b;a.interactiveRedraw(!0,m(b,"SetTextColor"))});b=[11,12,13,21,22,23,31,32,33];this.add("sub:align");for(var e=0;e<b.length;++e)this.addchk(b[e]==d.fTextAlign,b[e],b[e],function(a){this.getObject().fTextAlign=parseInt(a);this.interactiveRedraw(!0,"exec:SetTextAlign("+a+")")}.bind(a));this.add("endsub:");this.add("sub:font");for(b=1;16>b;++b)this.addchk(b==Math.floor(d.fTextFont/10),b,b,function(a){this.getObject().fTextFont=
10*parseInt(a)+2;this.interactiveRedraw(!0,"exec:SetTextFont("+this.getObject().fTextFont+")")}.bind(a));this.add("endsub:");this.add("endsub:")}};f.prototype.addAttributesMenu=function(a,b){var d=this;b||(b="");if(a.lineatt&&a.lineatt.used){this.add("sub:"+b+"Line att");this.addSizeMenu("width",1,10,1,a.lineatt.width,function(b){a.lineatt.change(void 0,b);a.interactiveRedraw(!0,"exec:SetLineWidth("+b+")")});this.addColorMenu("color",a.lineatt.color,function(b){a.lineatt.change(b);a.interactiveRedraw(!0,
m(b,"SetLineColor"))});this.add("sub:style",function(){d.input("Enter line style id (1-solid)",a.lineatt.style,"int").then(function(b){k.root_line_styles[b]&&(a.lineatt.change(void 0,void 0,b),a.interactiveRedraw(!0,"exec:SetLineStyle("+b+")"))})});for(var e=1;11>e;++e)this.addchk(a.lineatt.style==e,"<svg width='100' height='18'><text x='1' y='12' style='font-size:12px'>"+e+"</text><line x1='30' y1='8' x2='100' y2='8' stroke='black' stroke-width='3' stroke-dasharray='"+k.root_line_styles[e]+"'></line></svg>",
e,function(b){a.lineatt.change(void 0,void 0,parseInt(b));a.interactiveRedraw(!0,"exec:SetLineStyle("+b+")")});this.add("endsub:");this.add("endsub:");if("excl_side"in a.lineatt&&0!==a.lineatt.excl_side){this.add("sub:Exclusion");this.add("sub:side");for(e=-1;1>=e;++e)this.addchk(a.lineatt.excl_side==e,e,e,function(a){this.lineatt.changeExcl(parseInt(a));this.interactiveRedraw()}.bind(a));this.add("endsub:");this.addSizeMenu("width",10,100,10,a.lineatt.excl_width,function(b){a.lineatt.changeExcl(void 0,
b);a.interactiveRedraw()});this.add("endsub:")}}if(a.fillatt&&a.fillatt.used){this.add("sub:"+b+"Fill att");this.addColorMenu("color",a.fillatt.colorindx,function(b){a.fillatt.change(b,void 0,a.getCanvSvg());a.interactiveRedraw(!0,m(b,"SetFillColor"))},a.fillatt.kind);this.add("sub:style",function(){d.input("Enter fill style id (1001-solid, 3000..3010)",a.fillatt.pattern,"int").then(function(b){0>b||4E3<b||(a.fillatt.change(void 0,b,a.getCanvSvg()),a.interactiveRedraw(!0,"exec:SetFillStyle("+b+")"))})});
e=[1,1001,3001,3002,3003,3004,3005,3006,3007,3010,3021,3022];for(var c=0;c<e.length;++c){var f=a.createAttFill({std:!1,pattern:e[c],color:a.fillatt.colorindx||1});f="<svg width='100' height='18'><text x='1' y='12' style='font-size:12px'>"+e[c].toString()+"</text><rect x='40' y='0' width='60' height='18' stroke='none' fill='"+f.getFillColor()+"'></rect></svg>";this.addchk(a.fillatt.pattern==e[c],f,e[c],function(b){a.fillatt.change(void 0,parseInt(b),a.getCanvSvg());a.interactiveRedraw(!0,"exec:SetFillStyle("+
b+")")})}this.add("endsub:");this.add("endsub:")}if(a.markeratt&&a.markeratt.used){this.add("sub:"+b+"Marker att");this.addColorMenu("color",a.markeratt.color,function(b){a.markeratt.change(b);a.interactiveRedraw(!0,m(b,"SetMarkerColor"))});this.addSizeMenu("size",.5,6,.5,a.markeratt.size,function(b){a.markeratt.change(void 0,void 0,b);a.interactiveRedraw(!0,"exec:SetMarkerSize("+b+")")});this.add("sub:style");b=[1,2,3,4,5,6,7,8,21,22,23,24,25,26,27,28,29,30,31,32,33,34];for(e=0;e<b.length;++e)c=
new JSROOT.TAttMarkerHandler({style:b[e],color:a.markeratt.color,size:1.7}),c="<svg width='60' height='18'><text x='1' y='12' style='font-size:12px'>"+b[e].toString()+"</text><path stroke='black' fill='"+(c.fill?"black":"none")+"' d='"+c.create(40,8)+"'></path></svg>",this.addchk(a.markeratt.style==b[e],c,b[e],function(a){this.markeratt.change(void 0,parseInt(a));this.interactiveRedraw(!0,"exec:SetMarkerStyle("+a+")")}.bind(a));this.add("endsub:");this.add("endsub:")}};f.prototype.addTAxisMenu=function(a,
b,d){var e=this;this.add("sub:Labels");this.addchk(b.TestBit(JSROOT.EAxisBits.kCenterLabels),"Center",function(c){b.InvertBit(JSROOT.EAxisBits.kCenterLabels);a.interactiveRedraw("pad","exec:CenterLabels("+c+")",d)});this.addchk(b.TestBit(JSROOT.EAxisBits.kLabelsVert),"Rotate",function(c){b.InvertBit(JSROOT.EAxisBits.kLabelsVert);a.interactiveRedraw("pad","exec:SetBit(TAxis::kLabelsVert,"+c+")",d)});this.addColorMenu("Color",b.fLabelColor,function(c){b.fLabelColor=c;a.interactiveRedraw("pad",m(c,"SetLabelColor"),
d)});this.addSizeMenu("Offset",0,.1,.01,b.fLabelOffset,function(c){b.fLabelOffset=c;a.interactiveRedraw("pad","exec:SetLabelOffset("+c+")",d)});this.addSizeMenu("Size",.02,.11,.01,b.fLabelSize,function(c){b.fLabelSize=c;a.interactiveRedraw("pad","exec:SetLabelSize("+c+")",d)});this.add("endsub:");this.add("sub:Title");this.add("SetTitle",function(){e.input("Enter axis title",b.fTitle).then(function(c){b.fTitle=c;a.interactiveRedraw("pad",'exec:SetTitle("'+c+'")',d)})});this.addchk(b.TestBit(JSROOT.EAxisBits.kCenterTitle),
"Center",function(c){b.InvertBit(JSROOT.EAxisBits.kCenterTitle);a.interactiveRedraw("pad","exec:CenterTitle("+c+")",d)});this.addchk(b.TestBit(JSROOT.EAxisBits.kOppositeTitle),"Opposite",function(){b.InvertBit(JSROOT.EAxisBits.kOppositeTitle);a.redrawPad()});this.addchk(b.TestBit(JSROOT.EAxisBits.kRotateTitle),"Rotate",function(c){b.InvertBit(JSROOT.EAxisBits.kRotateTitle);a.interactiveRedraw("pad","exec:RotateTitle("+c+")",d)});this.addColorMenu("Color",b.fTitleColor,function(c){b.fTitleColor=c;
a.interactiveRedraw("pad",m(c,"SetTitleColor"),d)});this.addSizeMenu("Offset",0,3,.2,b.fTitleOffset,function(c){b.fTitleOffset=c;a.interactiveRedraw("pad","exec:SetTitleOffset("+c+")",d)});this.addSizeMenu("Size",.02,.11,.01,b.fTitleSize,function(c){b.fTitleSize=c;a.interactiveRedraw("pad","exec:SetTitleSize("+c+")",d)});this.add("endsub:");this.add("sub:Ticks");"TGaxis"==b._typename?(this.addColorMenu("Color",b.fLineColor,function(c){b.fLineColor=c;a.interactiveRedraw("pad")}),this.addSizeMenu("Size",
-.05,.055,.01,b.fTickSize,function(c){b.fTickSize=c;a.interactiveRedraw("pad")})):(this.addColorMenu("Color",b.fAxisColor,function(c){b.fAxisColor=c;a.interactiveRedraw("pad",m(c,"SetAxisColor"),d)}),this.addSizeMenu("Size",-.05,.055,.01,b.fTickLength,function(c){b.fTickLength=c;a.interactiveRedraw("pad","exec:SetTickLength("+c+")",d)}));this.add("endsub:")};f.prototype.remove=function(){null!==this.element&&(this.element.remove(),this.resolveFunc&&(this.resolveFunc(),delete this.resolveFunc),document.body.removeEventListener("click",
this.remove_bind));this.element=null};f.prototype.show=function(a){var b=this;this.remove();!a&&this.show_evnt&&(a=this.show_evnt);document.body.addEventListener("click",this.remove_bind);var d=document.getElementById(this.menuname);d&&d.parentNode.removeChild(d);h(document.body).append('<ul class="jsroot_ctxmenu">'+this.code+"</ul>");this.element=h(".jsroot_ctxmenu");var e=this;this.element.attr("id",this.menuname).css("left",a.clientX+window.pageXOffset).css("top",a.clientY+window.pageYOffset).css("position",
"absolute").menu({items:"> :not(.ui-widget-header)",select:function(a,b){a=b.item.attr("arg");b=(b=b.item.attr("cnt"))?e.funcs[b]:null;e.remove();"function"==typeof b&&(e.painter?b.bind(e.painter)(a):b(a))}});var c=d=null;a.clientX+this.element.width()>h(window).width()&&(d=h(window).width()-this.element.width()-20);a.clientY+this.element.height()>h(window).height()&&(c=h(window).height()-this.element.height()-20);null!==d&&this.element.css("left",(0<d?d:0)+window.pageXOffset);null!==c&&this.element.css("top",
(0<c?c:0)+window.pageYOffset);return new Promise(function(a){b.resolveFunc=a})};k.createMenu=function(a,b,d){a=new f(b,d||"root_ctx_menu",a);return Promise.resolve(a)};k.closeMenu=function(a){return(a=document.getElementById(a||"root_ctx_menu"))?(a.parentNode.removeChild(a),!0):!1};JSROOT.nodejs&&(module.exports=k);return k});
