(function(a){if(typeof define==="function"&&define.amd){define(["JSRootPainter","d3"],a)}else{if(typeof exports==="object"&&typeof module!=="undefined"){a(require("./JSRootCore.js"),require("./d3.min.js"))}else{if(typeof d3!="object"){throw new Error("This extension requires d3.js","JSRootPainter.v7hist.js")}if(typeof JSROOT=="undefined"){throw new Error("JSROOT is not defined","JSRootPainter.v7hist.js")}if(typeof JSROOT.Painter!="object"){throw new Error("JSROOT.Painter not defined","JSRootPainter.v7hist.js")}a(JSROOT,d3)}}}(function(b,d){b.sources.push("v7more");function e(){var s=this.GetObject(),g=s.fOpts,j=this.canv_painter(),r=this.pad_width(),m=this.pad_height(),u=false,n=g.fTextSize.fAttr,k=-g.fTextAngle.fAttr,o=g.fTextAlign.fAttr,l=j.GetNewColor(g.fTextColor),q=g.fTextFont.fAttr,i=this.GetCoordinate(s.fP);this.CreateG(u);var t={align:o,x:i.x,y:i.y,text:s.fText,rotate:k,color:l,latex:1};this.StartTextDrawing(q,n);this.DrawText(t);this.FinishTextDrawing()}function f(){var o=this.GetObject(),g=o.fOpts,i=this.canv_painter(),j=g.fWidth.fAttr,l=g.fOpacity.fAttr,h=g.fStyle.fAttr,k=i.GetNewColor(g.fColor),n=this.GetCoordinate(o.fP1),m=this.GetCoordinate(o.fP2);this.CreateG();this.draw_g.append("svg:line").attr("x1",n.x).attr("y1",n.y).attr("x2",m.x).attr("y2",m.y).style("stroke",k).attr("stroke-width",j).attr("stroke-opacity",l).style("stroke-dasharray",b.Painter.root_line_styles[h])}function a(){var n=this.GetObject(),h=n.fOpts,j=this.canv_painter(),k=h.fLineWidth.fAttr,o=h.fLineOpacity.fAttr,i=h.fLineStyle.fAttr,m=j.GetNewColor(h.fLineColor),l=h.fFillOpacity.fAttr,s=j.GetNewColor(h.fFillColor),p=h.fFillStyle.fAttr,g=h.fRoundWidth.fAttr,t=h.fRoundHeight.fAttr,r=this.GetCoordinate(n.fP1),q=this.GetCoordinate(n.fP2);this.CreateG();if(p==0){s="none"}this.draw_g.append("svg:rect").attr("x",r.x).attr("width",q.x-r.x).attr("y",q.y).attr("height",r.y-q.y).attr("rx",g).attr("ry",t).style("stroke",m).attr("stroke-width",k).attr("stroke-opacity",o).attr("fill",s).attr("fill-opacity",l).style("stroke-dasharray",b.Painter.root_line_styles[i])}function c(){var l=this.GetObject(),g=l.fOpts,j=this.canv_painter(),h=g.fSize.fAttr,o=g.fOpacity.fAttr,k=g.fStyle.fAttr,m=j.GetNewColor(g.fColor),i=this.GetCoordinate(l.fP);var n=new b.TAttMarkerHandler({style:k,color:m,size:h});this.CreateG();var q=n.create(i.x,i.y);if(q){this.draw_g.append("svg:path").attr("d",q).call(n.func)}}b.v7.drawText=e;b.v7.drawLine=f;b.v7.drawBox=a;b.v7.drawMarker=c;return b}));